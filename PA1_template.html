<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Reproducible Research: Peer Assessment 1</title>

<script src="PA1_template_files/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="PA1_template_files/bootstrap-2.3.2/css/bootstrap.min.css" rel="stylesheet" />
<link href="PA1_template_files/bootstrap-2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
<script src="PA1_template_files/bootstrap-2.3.2/js/bootstrap.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="PA1_template_files/highlight/default.css"
      type="text/css" />
<script src="PA1_template_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="container-fluid main-container">


<div id="header">
<h1 class="title">Reproducible Research: Peer Assessment 1</h1>
</div>


<pre class="r"><code>    library(knitr)</code></pre>
<pre><code>## Warning: package &#39;knitr&#39; was built under R version 3.1.3</code></pre>
<pre class="r"><code>    library(ggplot2)</code></pre>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 3.1.3</code></pre>
<pre class="r"><code>    library(scales)</code></pre>
<pre><code>## Warning: package &#39;scales&#39; was built under R version 3.1.3</code></pre>
<pre class="r"><code>    setwd(&quot;./RepData_PeerAssessment1/&quot;)
    opts_chunk$set(echo=TRUE)</code></pre>
<div id="loading-and-preprocessing-the-data" class="section level2">
<h2>Loading and preprocessing the data</h2>
<ol style="list-style-type: decimal">
<li>Download data if it is not downloaded</li>
</ol>
<pre class="r"><code>    if (!file.exists(&quot;activity.zip&quot;)){
      download.file(&quot;http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip&quot;, destfile = &quot;activity.zip&quot;, mode=&quot;wb&quot;)
    }</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Unzip CSV if it is not unzip yet</li>
</ol>
<pre class="r"><code>    if (!file.exists(&quot;activity.csv&quot;)){
      unzip(&quot;activity.zip&quot;)
    }</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Load CSV data into variable &amp; transform the date</li>
</ol>
<pre class="r"><code>    data &lt;- read.csv(&quot;activity.csv&quot;)
    summary(data)</code></pre>
<pre><code>##      steps                date          interval     
##  Min.   :  0.00   2012-10-01:  288   Min.   :   0.0  
##  1st Qu.:  0.00   2012-10-02:  288   1st Qu.: 588.8  
##  Median :  0.00   2012-10-03:  288   Median :1177.5  
##  Mean   : 37.38   2012-10-04:  288   Mean   :1177.5  
##  3rd Qu.: 12.00   2012-10-05:  288   3rd Qu.:1766.2  
##  Max.   :806.00   2012-10-06:  288   Max.   :2355.0  
##  NA&#39;s   :2304     (Other)   :15840</code></pre>
</div>
<div id="what-is-mean-total-number-of-steps-taken-per-day" class="section level2">
<h2>What is mean total number of steps taken per day?</h2>
<ol style="list-style-type: decimal">
<li>Calculate the total number of steps taken per day</li>
</ol>
<pre class="r"><code>    totalSum &lt;- aggregate(steps ~ date, data, sum)
    head(totalSum)</code></pre>
<pre><code>##         date steps
## 1 2012-10-02   126
## 2 2012-10-03 11352
## 3 2012-10-04 12116
## 4 2012-10-05 13294
## 5 2012-10-06 15420
## 6 2012-10-07 11015</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make a histogram of the total number of steps taken each day</li>
</ol>
<pre class="r"><code>    ggplot(data, aes(y=steps, x=as.Date(date))) + 
    geom_histogram(stat = &quot;identity&quot;) + 
    scale_x_date(labels = date_format(&quot;%Y-%m-%d&quot;)) + 
    xlab(&quot;Date&quot;) + 
    ylab(&quot;Steps&quot;) + 
    ggtitle(&quot;Total numbers of steps taken each day&quot;)</code></pre>
<pre><code>## Warning: Removed 2304 rows containing missing values (position_stack).</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-2-1.png" title="" alt="" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Calculate and report the mean and median of the total number of steps taken per day</li>
</ol>
<pre class="r"><code>    meanData &lt;- mean(totalSum$steps,na.rm = TRUE)
    medianData &lt;- median(totalSum$steps,na.rm=TRUE)</code></pre>
<ul>
<li>Mean is 1.076618910^{4}.</li>
<li>Median is 10765.</li>
</ul>
</div>
<div id="what-is-the-average-daily-activity-pattern" class="section level2">
<h2>What is the average daily activity pattern?</h2>
<ol style="list-style-type: decimal">
<li>Make a time series plot (i.e. type = “l”) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)</li>
</ol>
<pre class="r"><code>    TotalAvg &lt;- aggregate(steps ~ interval, data, mean)
    ggplot(TotalAvg, aes(interval,steps)) + 
        geom_line() + 
        geom_hline(yintercept = max(TotalAvg$steps))</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-4-1.png" title="" alt="" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?</li>
</ol>
<pre class="r"><code>    TotalAvg[TotalAvg$steps == max(TotalAvg$steps),]</code></pre>
<pre><code>##     interval    steps
## 104      835 206.1698</code></pre>
</div>
<div id="inputing-missing-values" class="section level2">
<h2>Inputing missing values</h2>
<ol style="list-style-type: decimal">
<li>Calculate and report the total number of missing values in the dataset (i.e. the total number of rows with NAs)</li>
</ol>
<pre class="r"><code>    nrow(data[is.na(data$steps),])</code></pre>
<pre><code>## [1] 2304</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Devise a strategy for filling in all of the missing values in the dataset. The strategy does not need to be sophisticated. For example, you could use the mean/median for that day, or the mean for that 5-minute interval, etc.</p>
<ul>
<li>I propose to use mean of 5-minute interval to populate the missing values.</li>
</ul></li>
<li><p>Create a new dataset that is equal to the original dataset but with the missing data filled in.</p></li>
</ol>
<pre class="r"><code>    dataNew &lt;- data
    dataNew$steps[is.na(dataNew$steps)] &lt;- mean(TotalAvg$steps)</code></pre>
<p>4.1 Make a histogram of the total number of steps taken each day and Calculate and report the mean and median total number of steps taken per day.</p>
<pre class="r"><code>    totalSumNew &lt;- aggregate(steps ~ date, dataNew, sum)
    ggplot(dataNew, aes(y=steps, x=as.Date(date))) + 
        geom_histogram(stat = &quot;identity&quot;) + 
        scale_x_date(labels = date_format(&quot;%Y-%m-%d&quot;)) + 
        xlab(&quot;Date&quot;) + 
        ylab(&quot;Steps&quot;) + 
        ggtitle(&quot;Total numbers of steps taken each day (NA replaced)&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-8-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>    meanDataNew &lt;- mean(totalSumNew$steps)
    medianDataNew &lt;- median(totalSumNew$steps,na.rm=TRUE)</code></pre>
<p>4.2 Do these values differ from the estimates from the first part of the assignment?</p>
<pre><code>* Mean is 1.0766189\times 10^{4}. 
* Mean(NA replaced) is 1.0766189\times 10^{4}.
    + This is same for mean.

* Median is 10765. 
* Median(NA replaced) is 1.0766189\times 10^{4}.
    + Yes there is minor differences since more mean data has been populated which move the median towards mean.</code></pre>
<p>4.3 What is the impact of imputing missing data on the estimates of the total daily number of steps? * Depends on the value being populated to fill the NAs, mean and median maybe tweak slightly.</p>
</div>
<div id="are-there-differences-in-activity-patterns-between-weekdays-and-weekends" class="section level2">
<h2>Are there differences in activity patterns between weekdays and weekends?</h2>
<ol style="list-style-type: decimal">
<li>Create a new factor variable in the dataset with two levels - “weekday” and “weekend” indicating whether a given date is a weekday or weekend day.</li>
</ol>
<pre class="r"><code>    dataNewWeek &lt;- dataNew
    dataNewWeek$dayType &lt;- &quot;Weekday&quot;
    weekend &lt;- weekdays(as.Date(dataNewWeek$date)) %in% c(&quot;Saturday&quot;,&quot;Sunday&quot;)
    dataNewWeek$dayType[weekend == TRUE] &lt;- &quot;Weekend&quot;
    dataNewWeek$dayType &lt;- as.factor(dataNewWeek$dayType)
    summary(dataNewWeek)</code></pre>
<pre><code>##      steps                date          interval         dayType     
##  Min.   :  0.00   2012-10-01:  288   Min.   :   0.0   Weekday:12960  
##  1st Qu.:  0.00   2012-10-02:  288   1st Qu.: 588.8   Weekend: 4608  
##  Median :  0.00   2012-10-03:  288   Median :1177.5                  
##  Mean   : 37.38   2012-10-04:  288   Mean   :1177.5                  
##  3rd Qu.: 37.38   2012-10-05:  288   3rd Qu.:1766.2                  
##  Max.   :806.00   2012-10-06:  288   Max.   :2355.0                  
##                   (Other)   :15840</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make a panel plot containing a time series plot (i.e. type = “l”) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all weekday days or weekend days (y-axis). See the README file in the GitHub repository to see an example of what this plot should look like using simulated data.</li>
</ol>
<pre class="r"><code>    TotalAvgNewWeek &lt;- aggregate(steps ~ interval + dayType, dataNewWeek, mean)
    ggplot(TotalAvgNewWeek, aes(x=interval,y=steps,group=dayType)) + 
        geom_line(aes(color=dayType)) + 
        facet_wrap(~ dayType, nrow=2)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="672" /></p>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
